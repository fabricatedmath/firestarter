# firestarter
Distance Based Mesher for Non-Signed Approximate Distance Functions

![alt text](https://farm2.staticflickr.com/1936/46264368801_1032253cb2_k_d.jpg "Example")
(3dsMax render of mesh generated by this program in STL)

## Description
This tool as it stands extracts a high resolution mesh from a Julia Quaternion distance estimation (isosurface).

These estimations are summed up nicely [here](http://www.iquilezles.org/www/articles/juliasets3d/juliasets3d.htm). The issue is that these distance functions are approximate and Non-Signed, so if you take a full step for a ray, you might pass through the set, and you won't know you're inside because there is no sign on the distance function.

This tool uses gradient descent with a small multiplier to march from the outside of the bounds of the function to a point within a threshold of the surface. It then "burns" along the isosurface forming a ring (think fire in minecraft), streaming the points to a file while creating triangles with a version of the [Marching Cubes](https://en.wikipedia.org/wiki/Marching_cubes) algorithm.

On a quad core i7-7700k, this program was able to extract around 30 million verticies in under a minute with heavy use of the multi-core Haskell [Repa library](https://hackage.haskell.org/package/repa). MeshLab then reduced this down to ~1.68 million verticies, by removing the overlapping vertices from the triangles.

![alt text](https://farm5.staticflickr.com/4913/44447499940_daa2daafe1_o_d.png "Example")

If you would like to add your own isosurface, you must create an instance of the ```Firestarter``` class, see [src/JuliaQ.hs](https://github.com/fabricatedmath/firestarter/blob/master/src/JuliaQ.hs) for an example implementation.

## Examples

Some more renderings in 3dsMax of these meshes..

![alt text](https://farm5.staticflickr.com/4807/46213866962_711be93c77_k_d.jpg "Example")
![alt text](https://farm5.staticflickr.com/4842/45352264895_3b47fb5bca_k_d.jpg "Example")

## Future work

* Add analytical normal to generated STL file
